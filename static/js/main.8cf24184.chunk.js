(this["webpackJsonptrello-lite"]=this["webpackJsonptrello-lite"]||[]).push([[0],{43:function(e,t,n){e.exports=n(54)},48:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),o=n.n(i),l=(n(48),n(79)),c=n(7),u=n(4),d=n(74),s=n(20),f=1,m=Object(s.b)({name:"lists",initialState:{elements:[]},reducers:{add:function(e,t){var n=t.payload;e.elements.push({id:f++,title:n.title,order:e.elements.length})},edit:function(e,t){var n=t.payload;e.elements.find((function(e){return e.id===n.id})).title=n.title},changeOrder:function(e,t){var n=t.payload,a=e.elements.find((function(e){return e.id===n.idA})),r=e.elements.find((function(e){return e.id===n.idB})),i=a.order,o=r.order;a.order=o,r.order=i}}}),b=m.actions,g=b.add,p=b.edit,h=b.changeOrder,v=function(e){return e.lists.elements.slice().sort((function(e,t){return e.order>t.order?1:-1}))},E=m.reducer,O=n(75),j=n(82),k=n(76),S=n(80),w=n(77),x=n(78),D=n(5),y=n(31),C=Object(D.a)({root:{boxShadow:"none",textTransform:"none",fontSize:14,padding:"6px 12px",border:"1px solid",lineHeight:1.5,backgroundColor:y.a[500],borderColor:y.a[500],color:"white",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{backgroundColor:y.a[700],borderColor:y.a[700],boxShadow:"none"},"&:active":{boxShadow:"none",backgroundColor:y.a[700],borderColor:y.a[700]},"&:focus":{boxShadow:"0 0 0 0.2rem rgba(0,123,255,.5)"}}})(S.a),B=Object(D.a)({root:{cursor:"pointer",pointerEvent:"none",justifyContent:"unset",textTransform:"none",padding:7,wordBreak:"break-word","&:hover":{backgroundColor:"inherit",borderColor:"inherit",boxShadow:"none"}}})(S.a),F=n(81),N=Object(d.a)((function(e){return{root:{background:"white",border:"1px solid green",fontSize:"1rem"}}}));var W=function(e){var t=N();return r.a.createElement(F.a,{autoFocus:e.autoFocus,onBlur:e.onBlur,value:e.value,onChange:e.onChange,placeholder:"List title",margin:"dense",variant:"outlined",multiline:!0,className:t.root,fullWidth:!0,size:"small",onKeyPress:function(t){return"Enter"===t.key&&e.onSubmit(t)}})},_=Object(d.a)((function(e){return{exist:{color:e.palette.text.primary,background:e.palette.background.default},new:{color:"white",padding:0,background:"rgba(255,255,255,0.5)"},cancelButton:{padding:e.spacing(1)},listForm:{padding:5}}}));function A(){var e=_(),t=Object(u.b)(),n=Object(a.useState)(null),i=Object(c.a)(n,2),o=i[0],l=i[1],d=function(e){e.preventDefault(),""!==o.trim()&&t(function(e){return function(t){return new Promise((function(n,a){t(g({title:e})),n()}))}}(o)).then((function(){return l(null)}))};return r.a.createElement(O.a,{className:"".concat(null!=o?e.exist:e.new),onClick:function(e){null==o&&l("")}},r.a.createElement(j.a,{in:null!=o},r.a.createElement("form",{className:e.listForm,noValidate:!0,autoComplete:"off",onSubmit:d},null!=o&&r.a.createElement(B,{fullWidth:!0,disableRipple:!0},r.a.createElement(W,{autoFocus:!0,value:o||"",onChange:function(e){return l(e.target.value)},onSubmit:d})),r.a.createElement(k.a,{container:!0,spacing:1},r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement(C,{onClick:d,fullWidth:!0},"Add a list")),r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement(S.a,{onClick:function(){return l(null)},className:"".concat(e.cancelButton)},r.a.createElement(w.a,null)))))),r.a.createElement(j.a,{in:null==o},r.a.createElement(B,{fullWidth:!0},r.a.createElement(x.a,{fontSize:"small"})," Add a new list")))}var P=1,R=Object(s.b)({name:"tasks",initialState:{elements:[],dragged:null},reducers:{add:function(e,t){var n=t.payload;e.elements.push({id:P++,title:n.title,list_id:n.list.id,order:e.elements.filter((function(e){return e.list_id===n.list.id})).length})},edit:function(e,t){var n=t.payload;e.elements.find((function(e){return e.id===n.id})).title=n.title},setDragged:function(e,t){var n=t.payload;e.dragged=n.task},changeOrder:function(e,t){var n=t.payload,a=e.elements.find((function(e){return e.id===n.idA})),r=e.elements.find((function(e){return e.id===n.idB})),i=a.order,o=r.order;if(a.list_id!==r.list_id){var l=a.list_id;a.list_id=r.list_id,a.order=o,e.elements.filter((function(e){return e.list_id===l})).forEach((function(e){e.order>i&&e.order--})),e.elements.filter((function(e){return e.list_id===a.list_id})).forEach((function(e){e.order>=o&&e.order++})),a.order=o}else a.order=o,r.order=i},addToList:function(e,t){var n=t.payload,a=e.elements.find((function(e){return e.id===n.id}));a.list_id=n.list_id,a.order=0}}}),z=R.actions,I=z.add,T=z.edit,L=z.changeOrder,M=z.setDragged,U=z.addToList,H=function(e){return function(t){return t.tasks.elements.filter((function(t){return t.list_id===e})).slice().sort((function(e,t){return e.order>t.order?1:-1}))}},J=function(e){return e.tasks.dragged},V=R.reducer,K=Object(d.a)((function(e){return{exist:{color:e.palette.text.primary,background:e.palette.background.default},new:{color:"white",padding:0,background:"rgba(255,255,255,0.5)"},cancelButton:{padding:e.spacing(1)},listForm:{padding:5}}}));function $(e){var t=K(),n=Object(u.b)(),i=Object(a.useState)(null),o=Object(c.a)(i,2),l=o[0],d=o[1],s=function(t){t.preventDefault(),""!==l.trim()&&n(function(e,t){return function(n){return new Promise((function(a,r){n(I({title:e,list:t})),a()}))}}(l,e.list)).then((function(){return d(null)}))};return r.a.createElement("div",{onClick:function(e){null==l&&d("")}}," ",null!=l?r.a.createElement("form",{className:t.listForm,noValidate:!0,autoComplete:"off",onSubmit:s},null!=l&&r.a.createElement(B,{fullWidth:!0,disableRipple:!0},r.a.createElement(W,{autoFocus:!0,value:l||"",onChange:function(e){return d(e.target.value)},onSubmit:s})),r.a.createElement(k.a,{container:!0,spacing:1},r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement(C,{onClick:s,fullWidth:!0},"Add a task")),r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement(S.a,{onClick:function(){return d(null)},className:"".concat(t.cancelButton)},r.a.createElement(w.a,null))))):r.a.createElement(B,{fullWidth:!0},r.a.createElement(x.a,{fontSize:"small"})," Add a new task"))}var q=Object(d.a)((function(e){return{exist:{color:e.palette.text.primary,background:"white",display:"block"},listForm:{padding:5}}}));function G(e){var t=q(),n=Object(u.b)(),i=Object(a.useState)(!1),o=Object(c.a)(i,2),l=o[0],d=o[1],s=Object(a.useState)(e.data.title),f=Object(c.a)(s,2),m=f[0],b=f[1],g=function(t){t.preventDefault(),""!==m.trim()?n(function(e,t,n){return function(a){return new Promise((function(r,i){a(T({title:e,list:t,id:n})),r()}))}}(m,e.list,e.data.id)).then((function(){return d(!1)})):(d(!1),b(e.data.title))};return r.a.createElement(O.a,{className:"".concat(t.exist),onDrag:e.onDrag,draggable:e.draggable,onDragOver:e.onDragOver,onDragEnd:e.onDragEnd},l?r.a.createElement("form",{onSubmit:g},r.a.createElement(B,{fullWidth:!0,disableRipple:!0},r.a.createElement(W,{autoFocus:!0,onBlur:g,value:m,onChange:function(e){return b(e.target.value)},onSubmit:g}))):r.a.createElement(B,{onClick:function(){return d(!0)},fullWidth:!0,disableRipple:!0},e.data.title))}function Q(e){var t=Object(u.c)(H(e.list.id)),n=Object(u.c)(J),i=Object(u.b)(),o=Object(a.useState)(!1),l=Object(c.a)(o,2),d=l[0],s=l[1],f=function(e,t){var a,r;t.preventDefault(),n&&e&&n.id!==e.id&&!d&&(s(!0),i((a=n.id,r=e.id,function(e){return new Promise((function(t,n){e(L({idA:a,idB:r})),t()}))})).then((function(){s(!1)})))},m=function(e){e.preventDefault(),i(M({task:null}))};return r.a.createElement(k.a,{container:!0,spacing:1},t.map((function(e){return r.a.createElement(k.a,{key:e.id,style:{visibility:n&&n.id===e.id?"hidden":"inherit"},item:!0,xs:12},r.a.createElement(G,{data:e,onDrag:function(t){return function(e){e!==n&&i(M({task:e}))}(e)},draggable:!0,onDragOver:function(t){return f(e,t)},onDragEnd:m}))})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement($,{list:e.list})))}var X=Object(d.a)((function(e){return{exist:{color:e.palette.text.primary,background:e.palette.background.default},listForm:{padding:5}}}));function Y(e){var t=X(),n=Object(u.b)(),i=Object(a.useState)(!1),o=Object(c.a)(i,2),l=o[0],d=o[1],s=Object(u.c)(J),f=Object(u.c)(H(e.data.id)),m=Object(a.useState)(e.data.title),b=Object(c.a)(m,2),g=b[0],h=b[1],v=function(t){t.preventDefault(),""!==g.trim()?n(function(e,t){return function(n){return new Promise((function(a,r){n(p({title:e,id:t})),a()}))}}(g,e.data.id)).then((function(){return d(!1)})):(d(!1),h(e.data.title))};return r.a.createElement(O.a,{draggable:e.draggable,onDrag:e.onDrag,onDragEnd:e.onDragEnd,onDragOver:function(){s&&0===f.length&&n(U({id:s.id,list_id:e.data.id})),e.onDragOver()},className:"".concat(t.exist)},l?r.a.createElement("form",{onSubmit:v},r.a.createElement(B,{fullWidth:!0,disableRipple:!0},r.a.createElement(W,{autoFocus:!0,onBlur:v,value:g,onChange:function(e){return h(e.target.value)},onSubmit:v}))):r.a.createElement(B,{onClick:function(){return d(!0)},onMouseDown:function(){return e.setDraggable(!0)},fullWidth:!0,disableRipple:!0},e.data.title),r.a.createElement(Q,{list:e.data}))}var Z=Object(d.a)((function(e){return{root:{display:"inline-flex",height:"100vh"},list:{width:300,float:"left",margin:5}}}));function ee(){var e=Z(),t=Object(u.b)(),n=Object(u.c)(v),i=Object(a.useState)(null),o=Object(c.a)(i,2),l=o[0],d=o[1],s=Object(a.useState)(!1),f=Object(c.a)(s,2),m=f[0],b=f[1],g=Object(a.useState)(!1),p=Object(c.a)(g,2),E=p[0],O=p[1],j=function(e){var n,a;e&&l&&e.id!==l.id&&!E&&(O(!0),t((n=l.id,a=e.id,function(e){return new Promise((function(t,r){e(h({idA:n,idB:a})),t()}))})).then((function(){return O(!1)})))},k=function(e){b(!1),d(null)};return r.a.createElement("div",{onDragOver:function(e){return e.preventDefault()},onDrop:function(){t(M({task:null}))},className:e.root},n.map((function(t){return r.a.createElement("div",{key:t.id,className:e.list,style:{visibility:l===t?"hidden":"visible"}},r.a.createElement(Y,{data:t,draggable:m,setDraggable:b,onDrag:function(e){return function(e,t){m&&e!==l&&d(e)}(t)},onDragEnd:k,onDragOver:function(){return j(t)}}))})),r.a.createElement("div",{className:e.list},r.a.createElement(A,null)))}var te=function(){return r.a.createElement(ee,null)};var ne=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"}),r.a.createElement(l.a,{maxWidth:"xl"},r.a.createElement(te,null)))},ae=Object(s.a)({reducer:{lists:E,tasks:V}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:ae},r.a.createElement(ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.8cf24184.chunk.js.map